---
title : V3.4.0 Release Notes
layout : page
#permalink : /ReleaseNotes/v3.4.0
hero_height: is-hidden
---


# FEHM Version 3.4.0 - September 2019

The major changes in the FEHM application from V3.3.1 to this release V3.4.0 are: salt and GDKM development, various modifications to improve the performance of FEHM simulation, fixing several known code bugs, and salt_test in V&V test suite was updated with improved theoretical solution (theoretical_result.txt).


## Enhancements

- Nonlinear rock heat capacity including rock melting. This capability allows the rock heat capacity with temperature dependence to be used in simulations. The numerical formulation for rock energy was modified to allow internal energy changes that represent rock melting. Several different heat capacity/melting models are available including input in tabular form. This capability will be fully tested and input/output described when the High Temperature version of FEHM is merged in the next release.

- Negative volume. A simple check for negative volumes associated with inconsistent local element node ordering was implemented.

- Humidity boundary conditions. Humidity boundary conditions were added to the BOUN macro.

- Gravity term correction. There are instances in multiphase simulations where a single phase gridblock is next to a multiphase block. In this case, it is possible that the density of one of the phases is not calculated for the single phase block. This affects the gravity term and is now corrected. (Seems to save a few iterations.) First discovered in TOUGH code at the University of Auckland.

- Salt project. Modified several of the salt routines. These changes were primarily for improvements to output. There are some computational efficiency improvements (saltctr).

- SRC_CH2017 (general). Moved vapor pressure lowering calls and improved the free drainage boundary condition for isothermal flow.

- Principal stress output. Changes the output for principal stress. Moved some arrays to use modules for improved efficiency.

- Saved Zone capability. This allows zones to be saved once and for all. This allows sets of zones not to lose nodes because of overlapping nodes defined sequentially. Useful for setting stratigraphy and boundary conditions and for outputting separate contour zones.

- GDKM. This is a major update to the GDKM capability. Corrected known bugs, simplified input, and added models. 


